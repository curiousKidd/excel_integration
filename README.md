## ğŸ³í˜ì´ì½” ì—‘ì…€ íŒŒì¼ ì¶”ì¶œê¸°
### ë¬¸ì œ ìƒí™©

ê¸°ì¡´ì—ëŠ” íšŒì‚¬ ë‚´ë¶€ì—ì„œ í˜ì´ì½” í†µí•© ì‚¬ìš© ë¦¬ìŠ¤íŠ¸ë¥¼ ì „ë‹¬ë°›ì•„, ì´ë¥¼ ìˆ˜ì‘ì—…ìœ¼ë¡œ í˜ì´ì½” ìŠ¹ì¸ ë‚´ì—­ê³¼ ë§¤ì¹­ì‹œí‚¤ê³  ì·¨í•©í•˜ëŠ” ê³¼ì •ì—ì„œ ë§ì€ ì‹œê°„ì´ ì†Œëª¨ë˜ì—ˆìŠµë‹ˆë‹¤.

ì´ëŸ° ìƒí™©ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•  ë°©ë²•ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

### í”„ë¡œì íŠ¸ ëª©í‘œ

1. í˜ì´ì½” ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆëŠ” í˜ì´ì½” ì‚¬ìš© ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ë¥¼ ì½ì–´ì™€ì„œ ê°€ê³µí•©ë‹ˆë‹¤.

2. í˜ì´ì½” ìŠ¹ì¸ ë‚´ì—­ê³¼ í†µí•© ì‚¬ìš©ìë“¤ì„ ìë™ìœ¼ë¡œ ë§¤ì¹­í•˜ì—¬ ì‚¬ìš©ìë³„ ì‹ëŒ€ ì‚¬ìš© ê¸ˆì•¡ì„ ì·¨í•©í•©ë‹ˆë‹¤.

3. ìë™ìœ¼ë¡œ ìƒì„±ëœ í†µí•© ì‚¬ìš©ì ë¦¬ìŠ¤íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í”„ë¡œì íŠ¸ ì´ì 

1. ì‹œê°„ ì ˆì•½ : í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ìˆ˜ì‘ì—…ìœ¼ë¡œ í•˜ë˜ ì—…ë¬´ë¥¼ ìë™í™”í•˜ë¯€ë¡œ, ì—…ë¬´ ì²˜ë¦¬ ì‹œê°„ì„ í˜„ì €íˆ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ì •í™•ì„± í–¥ìƒ : ê°œì¸ë“¤ì˜ ìˆ˜ê¸° ì‘ì„±ìœ¼ë¡œ ì‹¤ìˆ˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë‚˜, í”„ë¡œì íŠ¸ì˜ ì‚¬ìš©ìœ¼ë¡œ ì •í™•ì„±ì„ í–¥ìƒ ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. í¸ì˜ì„± : í†µí•© ì‚¬ìš©ì ë¦¬ìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ë¯€ë¡œ, íŒ€ êµ¬ì„±ì›ë“¤ì€ ì‹ëŒ€ ì‚¬ìš© ë‚´ì—­ì„ ì‹ ì†í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ…payco project
- MVC
- java8
- org.apache.poi -> ì—‘ì…€íŒŒì¼ read lib
```
ê¸°ë³¸ ë¡œì§ì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.
ë‹¨ìˆœ MVC êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ì˜€ìœ¼ë©°, ì…ë ¥í•œ ì—‘ì…€ íŒŒì¼ê³¼ ì¶œë ¥í•´ì•¼ í•  ì—‘ì…€ ë°ì´í„°ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
```

## âœ…payco_swing project
- java8
- java swing
- org.apache.poi

payco projectë¥¼ í†µí•´ì„œ ì¶œë ¥í•  ì—‘ì…€ ë°ì´í„°ë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.  
í•´ë‹¹ ë¡œì§ì„  exe íŒŒì¼ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œ `java swing`ì„ ì‚¬ìš©í•˜ì—¬ gui í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.   
java swingì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ì¶”ì²œ ë° ë³´ë‹¤ ì‰½ê²Œ ì •ë³´ë¥¼ ìˆ˜ì§‘ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆì–´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.  

í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” í˜ì´ì½” ê´€ë¦¬ìí˜ì´ì§€ì—ì„œ ë‹¤ìš´ë°›ì€ ì‚¬ìš© ë‚´ì—­ ì—‘ì…€íŒŒì¼`(payco Excel)`ê³¼   
íšŒì‚¬ ë‚´ë¶€ì—ì„œ ì‘ì„±ëœ í†µí•© ì‚¬ìš© ì—‘ì…€ íŒŒì¼ë“¤(ë¶€ì„œë³„ ì‘ì„±, `bay Excel`)ì„ ê¸°ì¤€ìœ¼ë¡œ ì—‘ì…€ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

<img src="https://github.com/curiousKidd/excel_integration/assets/77770531/7cd03326-7335-4aa0-aa15-137813e7a9fd" width="500" height="250"/>

``` text
bay Excel ì˜ ê²½ìš° ë‹¤ì¤‘ìœ¼ë¡œ ì„ íƒí•˜ì—¬ íŒŒì¼ë“¤ì„ í•œë²ˆì— ì…ë ¥ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤. 
->  fileComponent.setMultiSelectionEnabled(true); // ë‹¤ì¤‘ ì„ íƒ 
```  
<img src="https://github.com/curiousKidd/excel_integration/assets/77770531/2f4c5e9f-a51f-4d72-be93-1997160a0957" width="500" height="240"/>


## âœ…payco_swing_new project
- java8
- java swing
- org.apache.poi


payco_swing í”„ë¡œì íŠ¸ì—ì„œì˜ ë‹¨ì ì„ ë³´ì™„ ë° ê°œì„ í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.  
ê¸°ì¡´ `bay Excel`ê³¼ `payco Excel`ì„ ëª¨ë‘ ì…ë ¥ ë°›ì•„ì•¼í–ˆë˜ ì ì„ ë³´ì™„í•˜ì—¬ `payco Excel`ë§Œ ì…ë ¥ë°›ë„ë¡ ìˆ˜ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

<img src="https://github.com/curiousKidd/excel_integration/assets/77770531/8987def7-b719-4452-a11e-caea9524a85a" width="500" height="250"/>

### 2023.07
íšŒì‚¬ ë‚´ë¶€ í˜ì´ì½” ê¸ˆì•¡ì´ ì¦ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì „ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ í†µí•©ì‚¬ìš©ìë¥¼ ì¶”ì¶œí•˜ì˜€ìœ¼ë‚˜,
ê¸ˆì•¡ì´ ì¦ê°€ëœ ì´í›„ ìˆ˜ì •ì´ í•„ìš”í•˜ì˜€ìŠµë‹ˆë‹¤. ì´í›„ ê¸ˆì•¡ì„ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ guiì— text ì…ë ¥ì¹¸ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.

<img src="https://github.com/curiousKidd/excel_integration/assets/77770531/47434510-3ac7-43e5-9560-a95692532e00" width="500" height="250"/>

### 2023.07.19
ì‚¬ìš©ì(í˜„ ì§ì¥ ë™ë£Œ)ì˜ ì˜ê²¬ìœ¼ë¡œ ìˆ˜ì • ì§„í–‰ ì˜ˆì •
ê¸°ì¤€ ê¸ˆì•¡ë³´ë‹¤ ë§ì€ ê¸ˆì•¡ì„ ì‚¬ìš©í•œ ì‚¬ëŒë“¤ì˜ ì´ë¦„ì€ ë¬´ì¡°ê±´ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸ ìš”ì²­

### 2023.08.07
``` java 
private String getNames(PaycoDTO paycoDTO, int price, List<PaycoDTO> paycoDTOS) {
    HashMap<String, Integer> map = new HashMap<>();
    StringBuilder sb = new StringBuilder();

    paycoDTOS.stream()
            .filter(f ->
                    f.getName().equals(paycoDTO.getName())
                            && f.getTranDate().substring(0, 10).equals(paycoDTO.getTranDate().substring(0, 10))
                            && f.getTicketType().equals(paycoDTO.getTicketType())
                            && !f.getTranType().equals("ì·¨ì†Œ")
            )
						/* 20230807 ì´ì „ ë¡œì§ */
            //.map(fm -> !fm.getTranType().equals("ìŠ¹ì¸")
            //        ? fm.getTicketPaymentAmount() > price
            //       ? sb.append(overPriceName(fm, paycoDTOS))
            //        : fm.getTranType().equals("ë°›ê¸°")
            //        ? map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) + fm.getTicketPaymentAmount())
            //        : map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) - fm.getTicketPaymentAmount())
            //        : paycoDTO.getTranNumber().equals(fm.getTranNumber())
            //        ? map.put(fm.getName(), fm.getTicketPaymentAmount()) : "")
						.map(fm -> {
                    if (!"ìŠ¹ì¸".equals(fm.getTranType())) {
                        if (fm.getTicketPaymentAmount() > price) {
                            sb.append(overPriceName(fm, paycoDTOS));
                        } else if ("ë°›ê¸°".equals(fm.getTranType())) {
                            map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) + fm.getTicketPaymentAmount());
                        } else {
                            map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) - fm.getTicketPaymentAmount());
                        }
                    } else if (paycoDTO.getTranNumber().equals(fm.getTranNumber())) {
                        map.put(fm.getName(), fm.getTicketPaymentAmount());
                    }
                    return ""; // ë¹ˆ ë¬¸ìì—´ ë°˜í™˜ (ë³€ê²½ ê°€ëŠ¥ì„± ìˆìŒ)

            .collect(Collectors.toList());

    for (String key : map.keySet()) {
        if (map.get(key) > 0) {
            sb.append(key);
            sb.append(", ");
        }
    }

    return sb.toString();
}
```
20230807 ê¸°ì¤€ìœ¼ë¡œ .map() ì•ˆì— ë¡œì§ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤  
â†’ ê¸°ì¡´ ì‚¼í•­ì‹ì„ ì‚¬ìš©í•˜ë˜ ë¡œì§ì—ì„œ ifë¬¸ì„ ì‚¬ìš©í•˜ë„ë¡ ë¡œì§ ìˆ˜ì •
- ì‚¼í•­ì‹ì„ ë‹¤ì¤‘ìœ¼ë¡œ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆ ì˜¤íˆë ¤ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê²Œ ë˜ì–´ ifë¬¸ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

### 2023.08.14
ê¸°ì¡´ ë¡œì§ì˜ ë³€ê²½ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ì : A,B,C,D  
  
C > B > A(ìµœì¢…ì‚¬ìš©ì) ì˜ ì´ì²´ìˆœì„œê°€ ìˆì„ ê²½ìš° Aì˜ ê²°ì œê±´ì—ëŠ” A,B,Cê°€ ìˆì–´ì•¼í•©ë‹ˆë‹¤.  
ì´í›„ Dí•˜í…Œ Aê°€ ê¸ˆì•¡ì„ ë°›ì„ ê²½ìš°ì—ëŠ” ì”ì—¬ ê¸ˆì•¡ì˜ ë”°ë¼ A,Dê°€ ë‚˜ì™€ì•¼í• ì§€ A,B,C,Dê°€ ì¶œë ¥ë˜ì–´ì•¼í• ì§€ ê²°ì •ë˜ëŠ” ë¡œì§ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
ë˜í•œ ê²°ì œ ì—¬ë¶€ì— ë”°ë¼ í†µí•©ì‚¬ìš©ìëª… ì¶œë ¥ì˜ ê¸°ì¤€ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.  
  
ê¸°ì¡´ > `ê²°ì œì—¬ë¶€ì™€ ìƒê´€ì—†ì´` ì´ì²´ ë°›ì€ ê¸ˆì•¡ì´ +ì¼ ê²½ìš°ì—ë§Œ í†µí•©ì‚¬ìš©ìì˜ í¬í•¨ë˜ì—ˆìŠµë‹ˆë‹¤.  
ë³€ê²½ > `ê²°ì œ ì‹œê°„`ì˜ ë”°ë¼ì„œ `ì´ì²´ë¥¼ ë°›ì€ í›„ ê²°ì œë¥¼ ì§„í–‰`í–ˆì„ë•Œ ì´ì²´ë°›ì€ ê¸ˆì•¡ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë”ë¼ë„ ì´ë¦„ì´ í¬í•¨ë˜ë„ë¡ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.



``` java 
private static List<PaycoDTO> paycoExcelData = new ArrayList<>();
private static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ofPattern("yyyy.MM.dd HH:mm:ss");
private static int price = 0;
```
ê¸°ì¡´ ì‚¬ìš©ì¤‘ì´ë˜ `paycoExcelData`, `price`ì™€ `DATE_TIME_FORMATTER`ë¥¼ `static` ë³€ìˆ˜ë¡œ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.  
`price`, `paycoExcelData` ê°™ì€ ê²½ìš° ì‹¤í–‰ í›„ ê°’ì´ ì…ë ¥ë  ê²ƒì´ê¸° ë•Œë¬¸ì— `final`ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.


``` java
excelDTOS = paycoExcelData.stream()
                .sorted(compare)
                .filter(f -> set.add(f.getTranNumber()) && "ìŠ¹ì¸".equals(f.getTranType()))
                .map(m -> ExcelDTO.builder()
                        .tranNumber(m.getTranNumber())
                        .tranDate(m.getTranDate())
                        .companyNumber(m.getCompanyNumber())
                        .name(m.getName())
                        .usePlace(m.getUsePlace())
                        .paymentType(m.getPaymentType())
                        .tranType(m.getTranType())
                        .totalPaymentAmount(m.getTotalPaymentAmount())
                        .ticketPaymentAmount(m.getTicketPaymentAmount())
                        .ticketType(m.getTicketType())
                        //                        .names(m.getTicketPaymentAmount() > price ? getNames(m, price, paycoDTOS) : "")
                        .names(getNames(m))
                        .build()
                )
                
                

```
m.getTicketPaymentAmount() > price ì²˜ëŸ¼ ê¸°ì¡´ priceë³´ë‹¤ ë†’ì€ ìˆ˜ì¹˜ê°€ ë“¤ì–´ì™”ì„ë•Œë§Œ í†µí•©ì‚¬ìš©ìë¥¼ ê°€ì ¸ì˜¤ë˜ ë¡œì§ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.  
ê²°ì œê¸ˆì•¡ì˜ ìƒê´€ì—†ì´ ì´ì²´ë¥¼ ë°›ê³ , ì´í›„ ë‹¤ì‹œ ëŒë ¤ì£¼ì§€ ì•Šì€ ìƒíƒœì—ì„œ ê²°ì œê°€ ë°œìƒí•  ê²½ìš° ì‚¬ìš©ê¸ˆì•¡ì˜ ìƒê´€ì—†ì´ í†µí•©ì‚¬ìš©ìë¡œ í¬í•¨ë©ë‹ˆë‹¤.

```java
    // í†µí•© ì‚¬ìš©ì ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
    // paycoDTO : ìŠ¹ì¸ ë°ì´í„°
    private String getNames(PaycoDTO paycoDTO) {
        HashMap<String, Integer> map = new HashMap<>();
        StringBuilder sb = new StringBuilder();

        paycoExcelData.stream()
                .filter(f ->
                        f.getName().equals(paycoDTO.getName())
                                && f.getTranDate().substring(0, 10).equals(paycoDTO.getTranDate().substring(0, 10))
                                && f.getTicketType().equals(paycoDTO.getTicketType())
                                && !"ì·¨ì†Œ".equals(f.getTranType())
                )
                // .map() ë¡œì§ ìˆ˜ì •ì´ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤.
                // ë°›ê¸°ê±´ì˜ ê²½ìš°ì—ëŠ” ë¬´ì¡°ê±´ì ìœ¼ë¡œ ë˜ë‹¤ë¥¸ ì´ì²´ ì´ë ¥ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¡œì§ ì¶”ê°€
                .map(fm -> {
                    if (!"ìŠ¹ì¸".equals(fm.getTranType())) {
                        if ("ë°›ê¸°".equals(fm.getTranType())) {
                            map.putAll(amountTracking(fm));
                            //                            map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) + fm.getTicketPaymentAmount());
                        } else {
                            map.put(fm.getUsePlace(), map.getOrDefault(fm.getUsePlace(), 0) - fm.getTicketPaymentAmount());
                        }
                    } else if (paycoDTO.getTranNumber().equals(fm.getTranNumber())) {
                        map.put(fm.getName(), map.getOrDefault(fm.getName(), 0) + fm.getTicketPaymentAmount());

                    }
                    return fm;
                })
                .collect(Collectors.toList());

        Map<String, Integer> filteredMap = map.entrySet()
                .stream()
                .filter(f -> f.getValue() > 0)
                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));

        if (filteredMap.size() > 1) {
            for (String key : filteredMap.keySet()) {
                sb.append(key);
                sb.append(", ");
            }
        }

        return sb.toString();
    }
```

```java
    // ë°›ê¸° ê¸ˆì•¡ ì¶”ì 
    // PaycoDTO dto : ë°›ê¸° ë‚´ì—­ DTO
    private Map<String, Integer> amountTracking(PaycoDTO dto) {
        HashMap<String, Integer> map = new HashMap<>();
        StringBuilder sb = new StringBuilder();
        AtomicBoolean approvalCheck = new AtomicBoolean(false);

        Comparator<PaycoDTO> compare = Comparator
                .comparing(PaycoDTO::getTicketType)
                .thenComparing(PaycoDTO::getTranNumber).reversed();
        
        // í˜„ì¬ ë°›ì€ ë°ì´í„°ë¥¼ ë¬´ì¡°ê±´ì ìœ¼ë¡œ í¬í•¨í•©ë‹ˆë‹¤. -> ì–´ë– í•œ ìŠ¹ì¸ê±´ì˜ ë°›ê¸° ë‚´ì—­
        map.put(dto.getUsePlace(), dto.getTicketPaymentAmount());
        
        // ë°ì´í„°ë¥¼ ì •ë ¬í•˜ëŠ” ì¡°ê±´ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
        // í˜„ì¬ ë°›ê¸°ê±´ê³¼ ê°™ì€ ë‚ ì§œì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³ , í˜„ ë°ì´í„°ë³´ë‹¤ ì´ì „ì˜ ë°ì´í„°ë“¤ë§Œ ê°€ì ¸ì˜¤ê¸°ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
        paycoExcelData.stream()
                .sorted(compare)
                .filter(f ->
                        f.getName().equals(dto.getUsePlace())
                                && f.getTranDate().substring(0, 10).equals(dto.getTranDate().substring(0, 10))
                                && LocalDateTime.parse(f.getTranDate(), DATE_TIME_FORMATTER).compareTo(LocalDateTime.parse(dto.getTranDate(), DATE_TIME_FORMATTER)) < 0
                                && f.getTicketType().equals(dto.getTicketType())
                                && !"ì·¨ì†Œ".equals(f.getTranType())
                )
                // ë°›ê¸°ê±´ì˜ ê²½ìš° í•´ë‹¹ methodë¥¼ ì¬í˜¸ì¶œí•˜ì—¬, ë‚´ê°€ ë‹¤ë¥¸ì‚¬ëŒì—ê²Œ ë°›ì€ê±´ ì—†ëŠ”ì§€, ì²´í¬í•©ë‹ˆë‹¤.
                // ìŠ¹ì¸ê±´ì´ë©´ì„œ ê°€ê²©ì´ priceë¡œ ë”± ë§ì•„ë‚˜ëˆ ì§€ë©´(ì”ì•¡ì´ ë‚¨ì§€ ì•ŠëŠ” ê²°ì œì˜ ê²½ìš°) ì´ì „ ë°›ê¸° ì‚¬ìš©ìë¥¼ í¬í•¨í•˜ì§€ ì•Šë„ë¡ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
                .map(m -> {
                    if (!approvalCheck.get()) {
                        if ("ë°›ê¸°".equals(m.getTranType())) {
                            map.putAll(amountTracking(m));
                            //                        map.put(m.getUsePlace(), map.getOrDefault(m.getUsePlace(), 0) + m.getTicketPaymentAmount());
                        } else if ("ë³´ë‚´ê¸°".equals(m.getTranType())) {
                            map.put(m.getUsePlace(), map.getOrDefault(m.getUsePlace(), 0) - m.getTicketPaymentAmount());
                        } else if ("ìŠ¹ì¸".equals(m.getTranType()) && m.getTicketPaymentAmount() % price == 0) {
                            approvalCheck.set(true);
                        }
                    }
                    return m;
                })
                .collect(Collectors.toList());

        //Map filter
        Map<String, Integer> filteredMap = map.entrySet()
                .stream()
                .filter(f -> f.getValue() > 0)
                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));

        return filteredMap;
    }
```